<!-- templates/login.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>로그인 - everyCODE</title>
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
</head>
<body>
    <div class="container">
        <!-- 헤더 Fragment 삽입 -->
		<header th:replace="fragments/header :: header"></header>
        <div class="login-box">
            <h1 class="logo">로그인</h1>

            <!-- 성공 메시지 표시 -->
            <div th:if="${success}" class="success-message" th:text="${success}"></div>
            
            <!-- 에러 메시지 표시 -->
            <div th:if="${error}" class="error-message" th:text="${error}"></div>
            
            <!-- 세션 만료 메시지 -->
            <div th:if="${param.expired}" class="error-message">세션이 만료되었습니다. 다시 로그인해 주세요.</div>

            <form action="/login-process" method="post" id="loginForm">
                <!-- CSRF 토큰 (SecurityConfig에서 CSRF 보호 활성화 시 필요) -->
                <input type="hidden" name="_csrf" th:if="${_csrf != null}" th:value="${_csrf.token}" />
                
                <label for="username">아이디</label>
                <input type="text" id="username" name="username" placeholder="아이디를 입력하세요" required>

                <label for="password">비밀번호</label>
                <input type="password" id="password" name="password" placeholder="비밀번호를 입력하세요" required>

                <div class="links">
                    <a href="/signup">회원가입</a>
                    <a href="/find-id">아이디 찾기</a>
                    <a href="/reset-password">비밀번호 찾기</a>
                </div>

                <button type="submit" class="login-btn">로그인</button>
            </form>

            <hr class="divider">

            <div class="social-login">
			    <button class="social-btn google">
			        <img src="/images/Google.png" alt="Google 로고">
			        구글 계정으로 로그인
			    </button>
			    <button class="social-btn kakao">
			        <img src="/images/Kakao.png" alt="Kakao 로고">
			        카카오 계정으로 로그인
			    </button>
			</div>

        </div>

        <footer>
            <p>2025©everyCODE</p>
        </footer>
    </div>

    <!-- 로그인 관련 스크립트 추가 -->
    <script src="/js/login.js"></script>
</body>
</html>
