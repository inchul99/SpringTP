<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>오류 제보 작성 - everyCODE</title>
  <link rel="stylesheet" href="/css/error_write.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/nav.css">
</head>
<body>
  <header th:replace="fragments/header :: header"></header>
  <nav th:replace="fragments/nav :: nav"></nav>

  <main>
    <h2 class="page-title">문제 오류</h2>

    <form th:action="@{/board/error/write}" method="post" id="postForm">

      <label for="question">문제 *</label>
      <div class="problem-select-wrapper">
        <input type="text" id="question" name="question"
               placeholder="오류 제보할 문제를 선택해주세요." readonly required>
        <button type="button" id="findQuestionBtn">문제 찾기</button>
      </div>

      <!-- 문제 선택 모달 -->
      <div id="questionModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
          <h3>문제 선택</h3>
          <input type="text" id="searchQuestionInput" placeholder="문제 검색">
          <ul id="questionList"></ul>
          <button onclick="closeQuestionModal()">닫기</button>
        </div>
      </div>

      <label for="language">언어 *</label>
      <select id="language" name="language" required>
        <option value="" disabled selected hidden>언어를 선택해주세요.</option>
        <option value="JAVA">JAVA</option>
        <option value="C">C</option>
        <option value="Python">Python</option>
        <option value="etc">기타</option>
      </select>

      <label for="title">제목 *</label>
      <input type="text" id="title" name="title" placeholder="30자 이내로 입력해주세요." maxlength="30" required>

      <label for="content">내용 *</label>
      <textarea id="content" name="content" placeholder="내용을 입력해주세요." required></textarea>

      <label>사진 첨부</label>
      <div class="image-upload-wrapper">
        <div id="imagePreviewContainer" class="preview-container"></div>

        <label class="image-upload add-box" id="addImageBox">
          <span class="plus-icon">+</span>
          <input type="file" id="imageInput" accept="image/*" multiple>
        </label>
      </div>

      <button type="submit" class="submit-btn">제보하기</button>
    </form>
  </main>

  <div th:replace="fragments/footer :: footer"></div>
  <script src="/js/nav.js" defer></script>
  <script src="/js/error_write.js" defer></script>
</body>
</html>
